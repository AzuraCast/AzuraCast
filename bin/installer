#!/usr/bin/env php
<?php

declare(strict_types=1);

error_reporting(E_ALL & ~E_NOTICE & ~E_STRICT);
ini_set('display_errors', '1');

$autoloader = require dirname(__DIR__) . '/vendor/autoload.php';

$environment = App\AppFactory::buildEnvironment(
        [
                App\Environment::BASE_DIR => dirname(__DIR__),
        ]
);

$console = new Symfony\Component\Console\Application(
        'AzuraCast installer',
        App\Version::FALLBACK_VERSION
);

$installCommand = new App\Installer\Command\InstallCommand();
$installCommand->setEnvironment($environment);
$console->add($installCommand);

$console->run();
