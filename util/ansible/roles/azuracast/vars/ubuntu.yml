---
azuracast_www_group: "www-data"
azuracast_www_directories:
  - "{{ azuracast_src_dir }}/frontend/node_modules"
  - "{{ azuracast_src_dir }}/web/static"
  - "{{ azuracast_src_dir }}/web/static/dist"
  - "{{ azuracast_src_dir }}/web/static/webpack_dist"

azuracast_user_password_file: "{{ azuracast_secrets_dir }}/user.password"
azuracast_user_password: "{{ lookup('password', azuracast_user_password_file + ' length=16') }}"

azuracast_mysql_password_file: "{{ azuracast_secrets_dir }}/mysql.password"
azuracast_mysql_password: "{{ lookup('password', azuracast_mysql_password_file + ' length=16') }}"

azuracast_composer_options:
  development: ""
  production: "--no-dev --optimize-autoloader"
azuracast_build_system_packages:
  - nodejs

azuracast_build_node_version: 16
azuracast_build_node_repo: "https://deb.nodesource.com/node_{{ azuracast_build_node_version }}.x"
azuracast_build_node_keyring_url: "https://deb.nodesource.com/gpgkey/nodesource.gpg.key"
azuracast_build_node_keyring_path: "/usr/share/keyrings/nodesource.gpg"
azuracast_build_node_repositories:
  - "deb [signed-by={{ azuracast_build_node_keyring_path }}] {{ azuracast_build_node_repo }} {{ ansible_lsb.codename }} main"
  - "deb-src [signed-by={{ azuracast_build_node_keyring_path }}] {{ azuracast_build_node_repo }} {{ ansible_lsb.codename }} main"

azuracast_opam_switch_version: "4.12.0"
azuracast_liquidsoap_system_packages:
  - ffmpeg
  - opam
  - ocaml
  - libavcodec-dev
  - libavdevice-dev
  - libavfilter-dev
  - libavformat-dev
  - libavresample-dev
  - libavutil-dev
  - libcurl4-gnutls-dev
  - libfaad-dev
  - libfdk-aac-dev
  - libflac-dev
  - libmad0-dev
  - libmp3lame-dev
  - libogg-dev
  - libopus-dev
  - libpcre3-dev
  - libpostproc-dev
  - libsamplerate0-dev
  - libswresample-dev
  - libswscale-dev
  - libssl-dev
  - libtag1-dev
  - libvorbis-dev
  - autoconf
  - automake
  - m4
  - pkg-config
  - unzip
  - bubblewrap
  - frei0r-plugins-dev
  - ladspa-sdk
  - multimedia-audio-plugins
  - swh-plugins
  - tap-plugins

azuracast_php_version: "8.1"
azuracast_php_sys_packages:
  - "php{{ azuracast_php_version }}-fpm"
  - "php{{ azuracast_php_version }}-cli"
  - "php{{ azuracast_php_version }}-gd"
  - "php{{ azuracast_php_version }}-curl"
  - "php{{ azuracast_php_version }}-xml"         # IceCast XML config
  - "php{{ azuracast_php_version }}-zip"         # Composer installs
  - "php{{ azuracast_php_version }}-mysqlnd"     # MySQL Native Driver (Doctrine)
  - "php{{ azuracast_php_version }}-mbstring"    # Codeception Tests
  - "php{{ azuracast_php_version }}-intl"        # Localization
  - "php{{ azuracast_php_version }}-redis"       # Cache
  - "php{{ azuracast_php_version }}-bcmath"      # BigInteger
  - "php{{ azuracast_php_version }}-gmp"         # BigInteger and PHP-IP
  - "php{{ azuracast_php_version }}-maxminddb"   # Maxmind (GeoIP) DB native ext
