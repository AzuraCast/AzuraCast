allow_anonymous_connect_without_token: true
api_insecure: true
admin: true
admin_insecure: true
port: 6020
internal_port: 6025
websocket_disable: true
uni_websocket: true
uni_sse: true
uni_http_stream: true
proxy_connect_endpoint: http://localhost:6010/api/internal/centrifugo
proxy_connect_timeout: 10s
allowed_origins:
  - "*"

namespaces:
  - name: "station"
    history_size: 1
    history_ttl: "30s"
    allow_subscribe_for_client: true
    allow_subscribe_for_anonymous: true
    allow_history_for_client: true
    allow_history_for_anonymous: true

  - name: "global"
    history_size: 0
    allow_subscribe_for_client: true
    allow_subscribe_for_anonymous: true
    allow_history_for_client: true
    allow_history_for_anonymous: true

{{if isTrue .Env.ENABLE_REDIS }}
engine: "redis"
redis_address: "{{ .Env.REDIS_HOST }}:{{ default .Env.REDIS_PORT "6379" }}"
redis_db: 0
{{end}}
