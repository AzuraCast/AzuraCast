var player,$player,volume=55,is_playing=!1;function stopAllPlayers(){player.pause(),player.src="",is_playing=!1,$(".btn-audio").each(function(){var e=$(this).removeClass("playing").find("i");e.hasClass("material-icons")?e.text("play_circle_filled"):e.removeClass("zmdi-stop").addClass("zmdi-play")}),$("#radio-player-controls").removeClass("jp-state-playing")}function setVolume(e){volume=parseInt(e),$(".jp-volume-bar-value").css("width",volume+"%"),$(".jp-volume-range").val(volume),player.volume=Math.min((Math.exp(volume/100)-1)/(Math.E-1),1),store.enabled&&store.set("player_volume",volume)}function playAudio(e){player.src=e,player.play().catch(function(e){console.error(e),stopAllPlayers()})}function handlePlayClick(e){if(btn=$('.btn-audio[data-url="'+e+'"]'),btn.hasClass("playing"))stopAllPlayers();else{is_playing&&stopAllPlayers(),playAudio(e);var l=btn.addClass("playing").find("i");l.hasClass("material-icons")?l.text("pause_circle_filled"):l.removeClass("zmdi-play").addClass("zmdi-stop")}}$(function(){if(store.enabled&&void 0!==store.get("player_volume")&&(volume=store.get("player_volume",volume)),"undefined"!=typeof URLSearchParams){var e=new URLSearchParams(window.location.search);e.has("volume")&&(volume=parseInt(e.get("volume")))}$(".btn-audio").on("click",function(e){return e.preventDefault(),handlePlayClick($(this).data("url")),!1}),player=document.createElement("audio"),$player=$(player),setVolume(volume),$player.on("play",function(e){is_playing=!0,$(".jp-unmute").hide(),$("#radio-player-controls").addClass("jp-state-playing")}),$player.on("ended",function(e){stopAllPlayers()}),"mediaSession"in navigator&&navigator.mediaSession.setActionHandler("pause",function(){stopAllPlayers()}),$(".jp-pause").on("click",function(e){stopAllPlayers()}),$(".jp-mute").on("click",function(e){setVolume(0)}),$(".jp-unmute").on("click",function(e){setVolume(55)}),$(".jp-volume-full").on("click",function(e){setVolume(100)}),$(".jp-volume-bar").on("click",function(e){var l=$(e.currentTarget),a=l.offset(),o=e.pageX-a.left,t=l.width();l.height(),e.pageY,a.top,l.height();setVolume(Math.round(o/t*100))}),$(".jp-volume-range").on("change",function(e){setVolume($(this).val())}),$('.btn-audio[data-autoplay="true"]:first').click()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhZGlvLmpzIl0sIm5hbWVzIjpbInBsYXllciIsIiRwbGF5ZXIiLCJ2b2x1bWUiLCJpc19wbGF5aW5nIiwic3RvcEFsbFBsYXllcnMiLCJwYXVzZSIsInNyYyIsIiQiLCJlYWNoIiwicGxheV9pY29uIiwidGhpcyIsInJlbW92ZUNsYXNzIiwiZmluZCIsImhhc0NsYXNzIiwidGV4dCIsImFkZENsYXNzIiwic2V0Vm9sdW1lIiwibmV3X3ZvbHVtZSIsInBhcnNlSW50IiwiY3NzIiwidmFsIiwiTWF0aCIsIm1pbiIsImV4cCIsIkUiLCJzdG9yZSIsImVuYWJsZWQiLCJzZXQiLCJwbGF5QXVkaW8iLCJzb3VyY2VfdXJsIiwicGxheSIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwiaGFuZGxlUGxheUNsaWNrIiwiYXVkaW9fc291cmNlIiwiYnRuIiwidW5kZWZpbmVkIiwiZ2V0IiwiVVJMU2VhcmNoUGFyYW1zIiwidXJsUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJoYXMiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGEiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJoaWRlIiwibmF2aWdhdG9yIiwibWVkaWFTZXNzaW9uIiwic2V0QWN0aW9uSGFuZGxlciIsIiRiYXIiLCJjdXJyZW50VGFyZ2V0Iiwib2Zmc2V0IiwieCIsInBhZ2VYIiwibGVmdCIsInciLCJ3aWR0aCIsImhlaWdodCIsInBhZ2VZIiwidG9wIiwicm91bmQiLCJjbGljayJdLCJtYXBwaW5ncyI6IkFBSUEsSUFFSUEsT0FDQUMsUUFIQUMsT0FBUyxHQUNUQyxZQUFhLEVBSWpCLFNBQVNDLGlCQUVMSixPQUFPSyxRQUNQTCxPQUFPTSxJQUFNLEdBRWJILFlBQWEsRUFFYkksRUFBRSxjQUFjQyxLQUFLLFdBQ2pCLElBQUlDLEVBQVlGLEVBQUVHLE1BQU1DLFlBQVksV0FBV0MsS0FBSyxLQUNoREgsRUFBVUksU0FBUyxrQkFDbkJKLEVBQVVLLEtBQUssc0JBRWZMLEVBQVVFLFlBQVksYUFBYUksU0FBUyxlQUlwRFIsRUFBRSwwQkFBMEJJLFlBQVksb0JBRzVDLFNBQVNLLFVBQVVDLEdBRWZmLE9BQVNnQixTQUFTRCxHQUVsQlYsRUFBRSx3QkFBd0JZLElBQUksUUFBU2pCLE9BQU8sS0FDOUNLLEVBQUUsb0JBQW9CYSxJQUFJbEIsUUFHMUJGLE9BQU9FLE9BQVNtQixLQUFLQyxLQUFLRCxLQUFLRSxJQUFJckIsT0FBTyxLQUFLLElBQUltQixLQUFLRyxFQUFFLEdBQUksR0FFMURDLE1BQU1DLFNBQ05ELE1BQU1FLElBQUksZ0JBQWlCekIsUUFHbkMsU0FBUzBCLFVBQVVDLEdBRWY3QixPQUFPTSxJQUFNdUIsRUFDYjdCLE9BQU84QixPQUFPQyxNQUFNLFNBQVNDLEdBQ3pCQyxRQUFRRCxNQUFNQSxHQUNkNUIsbUJBSVIsU0FBUzhCLGdCQUFnQkMsR0FJckIsR0FGQUMsSUFBTTdCLEVBQUUsd0JBQXdCNEIsRUFBYSxNQUV6Q0MsSUFBSXZCLFNBQVMsV0FDYlQscUJBQ0csQ0FDQ0QsWUFDQUMsaUJBR0p3QixVQUFVTyxHQUVWLElBQUkxQixFQUFZMkIsSUFBSXJCLFNBQVMsV0FBV0gsS0FBSyxLQUN6Q0gsRUFBVUksU0FBUyxrQkFDbkJKLEVBQVVLLEtBQUssdUJBRWZMLEVBQVVFLFlBQVksYUFBYUksU0FBUyxjQUt4RFIsRUFBRSxXQVFFLEdBTElrQixNQUFNQyxjQUEwQ1csSUFBL0JaLE1BQU1hLElBQUksbUJBQzNCcEMsT0FBU3VCLE1BQU1hLElBQUksZ0JBQWlCcEMsU0FJVCxvQkFBcEJxQyxnQkFBaUMsQ0FDeEMsSUFBSUMsRUFBWSxJQUFJRCxnQkFBZ0JFLE9BQU9DLFNBQVNDLFFBQ2hESCxFQUFVSSxJQUFJLFlBQ2QxQyxPQUFTZ0IsU0FBU3NCLEVBQVVGLElBQUksWUFJeEMvQixFQUFFLGNBQWNzQyxHQUFHLFFBQVMsU0FBU0MsR0FHakMsT0FGQUEsRUFBRUMsaUJBQ0ZiLGdCQUFnQjNCLEVBQUVHLE1BQU1zQyxLQUFLLFNBQ3RCLElBSVhoRCxPQUFTaUQsU0FBU0MsY0FBYyxTQUNoQ2pELFFBQVVNLEVBQUVQLFFBRVpnQixVQUFVZCxRQUdWRCxRQUFRNEMsR0FBRyxPQUFRLFNBQVNDLEdBQ3hCM0MsWUFBYSxFQUViSSxFQUFFLGNBQWM0QyxPQUNoQjVDLEVBQUUsMEJBQTBCUSxTQUFTLHNCQUd6Q2QsUUFBUTRDLEdBQUcsUUFBUyxTQUFTQyxHQUN6QjFDLG1CQUdBLGlCQUFrQmdELFdBQ2xCQSxVQUFVQyxhQUFhQyxpQkFBaUIsUUFBUyxXQUM3Q2xELG1CQUtSRyxFQUFFLGFBQWFzQyxHQUFHLFFBQVMsU0FBU0MsR0FDaEMxQyxtQkFHSkcsRUFBRSxZQUFZc0MsR0FBRyxRQUFTLFNBQVNDLEdBQy9COUIsVUFBVSxLQUdkVCxFQUFFLGNBQWNzQyxHQUFHLFFBQVMsU0FBU0MsR0FDakM5QixVQUFVLE1BR2RULEVBQUUsbUJBQW1Cc0MsR0FBRyxRQUFTLFNBQVNDLEdBQ3RDOUIsVUFBVSxPQUdkVCxFQUFFLGtCQUFrQnNDLEdBQUcsUUFBUyxTQUFTQyxHQUNyQyxJQUFJUyxFQUFPaEQsRUFBRXVDLEVBQUVVLGVBQ1hDLEVBQVNGLEVBQUtFLFNBQ2RDLEVBQUlaLEVBQUVhLE1BQVFGLEVBQU9HLEtBQ3JCQyxFQUFJTixFQUFLTyxRQUNMUCxFQUFLUSxTQUFXakIsRUFBRWtCLE1BQVFQLEVBQU9RLElBQ2pDVixFQUFLUSxTQUViL0MsVUFBVUssS0FBSzZDLE1BQU9SLEVBQUVHLEVBQUssUUFHakN0RCxFQUFFLG9CQUFvQnNDLEdBQUcsU0FBVSxTQUFTQyxHQUN4QzlCLFVBQVVULEVBQUVHLE1BQU1VLFNBSXRCYixFQUFFLDBDQUEwQzREIiwiZmlsZSI6InJhZGlvLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSYWRpbyBQbGF5ZXIgU2NyaXB0XG4gKi9cblxudmFyIHZvbHVtZSA9IDU1LFxuICAgIGlzX3BsYXlpbmcgPSBmYWxzZSxcbiAgICBwbGF5ZXIsXG4gICAgJHBsYXllcjtcblxuZnVuY3Rpb24gc3RvcEFsbFBsYXllcnMoKVxue1xuICAgIHBsYXllci5wYXVzZSgpO1xuICAgIHBsYXllci5zcmMgPSAnJztcblxuICAgIGlzX3BsYXlpbmcgPSBmYWxzZTtcblxuICAgICQoJy5idG4tYXVkaW8nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGxheV9pY29uID0gJCh0aGlzKS5yZW1vdmVDbGFzcygncGxheWluZycpLmZpbmQoJ2knKTtcbiAgICAgICAgaWYgKHBsYXlfaWNvbi5oYXNDbGFzcygnbWF0ZXJpYWwtaWNvbnMnKSkge1xuICAgICAgICAgICAgcGxheV9pY29uLnRleHQoJ3BsYXlfY2lyY2xlX2ZpbGxlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGxheV9pY29uLnJlbW92ZUNsYXNzKCd6bWRpLXN0b3AnKS5hZGRDbGFzcygnem1kaS1wbGF5Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNyYWRpby1wbGF5ZXItY29udHJvbHMnKS5yZW1vdmVDbGFzcygnanAtc3RhdGUtcGxheWluZycpO1xufVxuXG5mdW5jdGlvbiBzZXRWb2x1bWUobmV3X3ZvbHVtZSlcbntcbiAgICB2b2x1bWUgPSBwYXJzZUludChuZXdfdm9sdW1lKTtcblxuICAgICQoJy5qcC12b2x1bWUtYmFyLXZhbHVlJykuY3NzKCd3aWR0aCcsIHZvbHVtZSsnJScpO1xuICAgICQoJy5qcC12b2x1bWUtcmFuZ2UnKS52YWwodm9sdW1lKTtcblxuICAgIC8vIFNldCB2b2x1bWUgbG9nYXJpdGhtaWNhbGx5IGJhc2VkIG9uIG9yaWdpbmFsIGlucHV0LlxuICAgIHBsYXllci52b2x1bWUgPSBNYXRoLm1pbigoTWF0aC5leHAodm9sdW1lLzEwMCktMSkvKE1hdGguRS0xKSwgMSk7XG5cbiAgICBpZiAoc3RvcmUuZW5hYmxlZClcbiAgICAgICAgc3RvcmUuc2V0KCdwbGF5ZXJfdm9sdW1lJywgdm9sdW1lKTtcbn1cblxuZnVuY3Rpb24gcGxheUF1ZGlvKHNvdXJjZV91cmwpXG57XG4gICAgcGxheWVyLnNyYyA9IHNvdXJjZV91cmw7XG4gICAgcGxheWVyLnBsYXkoKS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgc3RvcEFsbFBsYXllcnMoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUGxheUNsaWNrKGF1ZGlvX3NvdXJjZSlcbntcbiAgICBidG4gPSAkKCcuYnRuLWF1ZGlvW2RhdGEtdXJsPVwiJythdWRpb19zb3VyY2UrJ1wiXScpO1xuXG4gICAgaWYgKGJ0bi5oYXNDbGFzcygncGxheWluZycpKSB7XG4gICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzX3BsYXlpbmcpIHtcbiAgICAgICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBwbGF5QXVkaW8oYXVkaW9fc291cmNlKTtcblxuICAgICAgICB2YXIgcGxheV9pY29uID0gYnRuLmFkZENsYXNzKCdwbGF5aW5nJykuZmluZCgnaScpO1xuICAgICAgICBpZiAocGxheV9pY29uLmhhc0NsYXNzKCdtYXRlcmlhbC1pY29ucycpKSB7XG4gICAgICAgICAgICBwbGF5X2ljb24udGV4dCgncGF1c2VfY2lyY2xlX2ZpbGxlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGxheV9pY29uLnJlbW92ZUNsYXNzKCd6bWRpLXBsYXknKS5hZGRDbGFzcygnem1kaS1zdG9wJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiQoZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBDaGVjayB3ZWJzdG9yYWdlIGZvciBleGlzdGluZyB2b2x1bWUgcHJlZmVyZW5jZS5cbiAgICBpZiAoc3RvcmUuZW5hYmxlZCAmJiBzdG9yZS5nZXQoJ3BsYXllcl92b2x1bWUnKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZvbHVtZSA9IHN0b3JlLmdldCgncGxheWVyX3ZvbHVtZScsIHZvbHVtZSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdGhlIHF1ZXJ5IHN0cmluZyBpZiBicm93c2VyIHN1cHBvcnRzIGVhc3kgcXVlcnkgc3RyaW5nIGFjY2Vzcy5cbiAgICBpZiAodHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgICAgIGlmICh1cmxQYXJhbXMuaGFzKCd2b2x1bWUnKSkge1xuICAgICAgICAgICAgdm9sdW1lID0gcGFyc2VJbnQodXJsUGFyYW1zLmdldCgndm9sdW1lJykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJCgnLmJ0bi1hdWRpbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBoYW5kbGVQbGF5Q2xpY2soJCh0aGlzKS5kYXRhKCd1cmwnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSBhdWRpbyBlbGVtZW50LlxuICAgIHBsYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgJHBsYXllciA9ICQocGxheWVyKTtcblxuICAgIHNldFZvbHVtZSh2b2x1bWUpO1xuXG4gICAgLy8gSGFuZGxlIGV2ZW50cy5cbiAgICAkcGxheWVyLm9uKCdwbGF5JywgZnVuY3Rpb24oZSkge1xuICAgICAgICBpc19wbGF5aW5nID0gdHJ1ZTtcblxuICAgICAgICAkKCcuanAtdW5tdXRlJykuaGlkZSgpO1xuICAgICAgICAkKCcjcmFkaW8tcGxheWVyLWNvbnRyb2xzJykuYWRkQ2xhc3MoJ2pwLXN0YXRlLXBsYXlpbmcnKTtcbiAgICB9KTtcblxuICAgICRwbGF5ZXIub24oJ2VuZGVkJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBzdG9wQWxsUGxheWVycygpO1xuICAgIH0pO1xuXG4gICAgaWYgKCdtZWRpYVNlc3Npb24nIGluIG5hdmlnYXRvcikge1xuICAgICAgICBuYXZpZ2F0b3IubWVkaWFTZXNzaW9uLnNldEFjdGlvbkhhbmRsZXIoJ3BhdXNlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzdG9wQWxsUGxheWVycygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgYnV0dG9uIGNsaWNrcy5cbiAgICAkKCcuanAtcGF1c2UnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHN0b3BBbGxQbGF5ZXJzKCk7XG4gICAgfSk7XG5cbiAgICAkKCcuanAtbXV0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2V0Vm9sdW1lKDApO1xuICAgIH0pO1xuXG4gICAgJCgnLmpwLXVubXV0ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2V0Vm9sdW1lKDU1KTtcbiAgICB9KTtcblxuICAgICQoJy5qcC12b2x1bWUtZnVsbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2V0Vm9sdW1lKDEwMCk7XG4gICAgfSk7XG5cbiAgICAkKCcuanAtdm9sdW1lLWJhcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyICRiYXIgPSAkKGUuY3VycmVudFRhcmdldCksXG4gICAgICAgICAgICBvZmZzZXQgPSAkYmFyLm9mZnNldCgpLFxuICAgICAgICAgICAgeCA9IGUucGFnZVggLSBvZmZzZXQubGVmdCxcbiAgICAgICAgICAgIHcgPSAkYmFyLndpZHRoKCksXG4gICAgICAgICAgICB5ID0gJGJhci5oZWlnaHQoKSAtIGUucGFnZVkgKyBvZmZzZXQudG9wLFxuICAgICAgICAgICAgaCA9ICRiYXIuaGVpZ2h0KCk7XG5cbiAgICAgICAgc2V0Vm9sdW1lKE1hdGgucm91bmQoKHgvdykgKiAxMDApKTtcbiAgICB9KTtcblxuICAgICQoJy5qcC12b2x1bWUtcmFuZ2UnKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBzZXRWb2x1bWUoJCh0aGlzKS52YWwoKSk7XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgYXV0b3BsYXkuXG4gICAgJCgnLmJ0bi1hdWRpb1tkYXRhLWF1dG9wbGF5PVwidHJ1ZVwiXTpmaXJzdCcpLmNsaWNrKCk7XG5cbn0pO1xuIl19
