var Webcaster=function(t){var e={};function s(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/static/dist",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mixer card"},[s("h5",{staticClass:"card-header"},[t._v("\n        Mixer\n    ")]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"d-flex flex-row"},[s("div",{staticClass:"flex-shrink-0 pt-1 pr-2"},[t._v("1")]),t._v(" "),s("div",{staticClass:"flex-fill"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.position,expression:"position"}],staticClass:"custom-range slider",attrs:{type:"range",min:"0",max:"1",step:"0.1"},domProps:{value:t.position},on:{__r:function(e){t.position=e.target.value}}})]),t._v(" "),s("div",{staticClass:"flex-shrink-0 pt-1 pl-2"},[t._v("2")])])])])};function i(t,e,s,a,i,n,r,o){var l=typeof(t=t||{}).default;"object"!==l&&"function"!==l||(t=t.default);var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=s,u._compiled=!0),a&&(u.functional=!0),n&&(u._scopeId=n),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=c):i&&(c=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(t,e){return c.call(e),d(t,e)}}else{var v=u.beforeCreate;u.beforeCreate=v?[].concat(v,c):[c]}return{exports:t,options:u}}a._withStripped=!0;var n=i({data:function(){return{position:.5}},watch:{position:function(t,e){this.$root.$emit("new-mixer-value",t)}}},a,[],!1,null,null,null);n.options.__file="vue/webcaster/mixer.vue";var r=n.exports,o={inject:["getStream"],data:function(){return{sink:null,controlsNode:{},trackGain:0,trackGainObj:{},passThrough:!1,passThroughObj:{},source:null,playing:!1,paused:!1,position:0,volume:100,volumeLeft:0,volumeRight:0}},mounted:function(){this.sink=this.getStream().webcast},watch:{volume:function(t,e){this.setTrackGain(t)}},methods:{createControlsNode:function(){var t,e,s,a;return 4096,t=parseFloat(4096)/parseFloat(this.node.context.sampleRate),e=Math.log(parseFloat(4096)),s=2*Math.log(10),(a=this.getStream().context.createScriptProcessor(4096,2,2)).onaudioprocess=function(a){var i,n,r,o,l,c,u,d,v,p,h;for({},null!=(null!=(c=this.source)?c.position:void 0)?this.position=this.source.position():null!=this.source&&(this.position=parseFloat(this.position)+t),v=[],i=o=0,u=a.inputBuffer.numberOfChannels-1;0<=u?o<=u:o>=u;i=0<=u?++o:--o){for(p=0,r=l=0,d=(n=a.inputBuffer.getChannelData(i)).length-1;0<=d?l<=d:l>=d;r=0<=d?++l:--l)p+=Math.pow(n[r],2);h=100*Math.exp((Math.log(p)-e)/s),0===i?this.volumeLeft=h:this.volumeRight=h,v.push(a.outputBuffer.getChannelData(i).set(n))}return v},a},createPassThrough:function(){var t;return(t=this.getStream().context.createScriptProcessor(256,2,2)).onaudioprocess=(t=>{var e,s,a,i,n;for(s=t.inputBuffer.getChannelData(e),n=[],e=a=0,i=t.inputBuffer.numberOfChannels-1;0<=i?a<=i:a>=i;e=0<=i?++a:--a)this.passThrough?n.push(t.outputBuffer.getChannelData(e).set(s)):n.push(t.outputBuffer.getChannelData(e).set(new Float32Array(s.length)));return n}),t},setTrackGain:function(t){return this.trackGainObj.gain.value=parseFloat(t)/100},togglePause:function(){var t,e;null!=(null!=(t=this.source)?t.pause:void 0)&&((null!=(e=this.source)&&"function"==typeof e.paused?e.paused():void 0)?(this.source.play(),this.playing=!0,this.paused=!1):(this.source.pause(),this.playing=!1,this.paused=!0))},prepare:function(){return this.controlsNode=this.createControlsNode(),this.controlsNode.connect(this.sink),this.trackGain=this.getStream().context.createGain(),this.trackGain.connect(this.controlsNode),this.setTrackGain(),this.destination=this.trackGain,this.passThroughObj=this.createPassThrough(),this.passThroughObj.connect(this.getStream().context.destination),this.trackGainObj.connect(this.passThroughObj)},stop:function(){var t,e,s,a,i;null!=(t=this.source)&&"function"==typeof t.stop&&t.stop(),null!=(e=this.source)&&e.disconnect(),null!=(s=this.trackGainObj)&&s.disconnect(),null!=(a=this.controlsNode)&&a.disconnect(),null!=(i=this.passThroughObj)&&i.disconnect(),this.source=this.trackGainObj=this.controlsNode=this.passThroughObj=null,this.position=0,this.playing=!1,this.paused=!1},seek:function(t){var e,s;(e=null!=(s=this.source)&&"function"==typeof s.seek?s.seek(t):void 0)&&(this.position=e)},prettifyTime:function(t){var e,s,a,i;return e=parseInt(t/3600),t%=3600,(s=parseInt(t/60))<10&&(s=`0${s}`),(i=parseInt(t%60))<10&&(i=`0${i}`),a=`${s}:${i}`,e>0&&(a=`${e}:${a}`),a},sendMetadata:function(t){this.getStream().webcast.sendMetadata(t.metadata)}}},l={extends:o,data:function(){return{device:null,devices:[],isRecording:!1}},watch:{device:function(t,e){}},mounted:function(){var t,e;navigator.mediaDevices||(navigator.mediaDevices={}),(t=navigator.mediaDevices).getUserMedia||(t.getUserMedia=function(t){var e;return null==(e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)?Promise.reject(new Error("getUserMedia is not implemented in this browser")):new Promise(function(s,a){return e.call(navigator,t,s,a)})}),(e=navigator.mediaDevices).enumerateDevices||(e.enumerateDevices=function(){return Promise.reject(new Error("enumerateDevices is not implemented on this browser"))}),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(){return navigator.mediaDevices.enumerateDevices().then(t=>{var e;if(t=_.filter(t,function({kind:t,deviceId:e}){return"audioinput"===t}),!_.isEmpty(t))return e=this.$(".microphone-entry select"),_.each(t,function({label:t,deviceId:s}){return e.append(`<option value='${s}'>${t}</option>`)}),e.find("option:eq(0)").prop("selected",!0),this.model.set("device",e.val()),e.select(function(){return this.model.set("device",e.val())}),this.$(".microphone-entry").show()})}),this.$root.$on("new-cue",this.onNewCue)},methods:{cue:function(){this.$root.$emit("new-cue",this.passThrough?"off":"microphone")},onNewCue:function(t){this.passThrough="microphone"===t},toggleRecording:function(){this.playing?this.stop():this.play()},createSource:function(t){var e;return null!=this.source&&this.source.disconnect(this.destination),e={video:!1},this.get("device")?e.audio={exact:this.get("device")}:e.audio=!0,this.node.createMicrophoneSource(e,e=>(this.source=e,this.source.connect(this.destination),"function"==typeof t?t():void 0))},play:function(){return this.prepare(),this.createSource(function(){this.playing=!0,this.paused=!1})}}},c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("h5",{staticClass:"card-header"},[t._v("\n        Microphone\n\n        "),s("div",{staticClass:"float-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.volume,expression:"volume",modifiers:{number:!0}}],staticClass:"custom-range",attrs:{type:"range",min:"0",max:"150",value:"100"},domProps:{value:t.volume},on:{__r:function(e){t.volume=t._n(e.target.value)},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"control-group d-flex justify-content-center mb-3"},[s("div",{staticClass:"btn-group btn-group-sm"},[s("button",{staticClass:"btn btn-danger",class:{active:t.playing},on:{click:t.toggleRecording}},[s("i",{staticClass:"material-icons"},[t._v("mic")])]),t._v(" "),s("button",{staticClass:"btn",class:{"btn-primary":t.passThrough},on:{click:t.cue}},[t._v("CUE")])])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)])])};c._withStripped=!0;var u=i(l,c,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress progress-left"},[e("div",{staticClass:"bar volume-left",staticStyle:{width:"0%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress progress-right"},[e("div",{staticClass:"bar volume-right",staticStyle:{width:"0%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group microphone-entry"},[e("label",{attrs:{for:"select_microphone_source"}},[this._v("Microphone Source")]),this._v(" "),e("div",{staticClass:"controls"},[e("select",{staticClass:"form-control",attrs:{id:"select_microphone_source"}})])])}],!1,null,null,null);u.options.__file="vue/webcaster/microphone.vue";var d=u.exports,v={extends:o,data:function(){return{file_index:-1,files:[],volume:100,playThrough:!0,loop:!1,mixGainObj:null}},props:{id:String,name:String},mounted:function(){this.mixGainObj=this.getStream().context.createGain(),this.mixGainObj.connect(this.getStream().webcast),this.sink=this.mixGainObj,this.$root.$on("new-mixer-value",this.setMixGain),this.$root.$on("new-cue",this.onNewCue)},methods:{cue:function(){this.$root.$emit("new-cue",this.passThrough?"off":this.id)},onNewCue:function(t){this.passThrough=t===this.id},setMixGain:function(t){"playlist_1"===this.id?this.mixGainObj.gain.value=t:this.mixGainObj.gain.value=1-t},appendFiles:function(t,e){var s,a,i,n,r,o,l;for(a=this.get("files"),r=_.after(t.length,()=>(this.set({files:a}),"function"==typeof e?e():void 0)),s=function(t){return t.readTaglibMetadata(e=>(a.push({file:t,audio:e.audio,metadata:e.metadata}),r()))},l=[],i=n=0,o=t.length-1;0<=o?n<=o:n>=o;i=0<=o?++n:--n)l.push(s(t[i]));return l},selectFile:function(t={}){if(0!==this.files.length){if(this.fileIndex+=t.backward?-1:1,this.fileIndex<0&&(this.fileIndex=this.files.length-1),this.fileIndex>=this.files.length){if(!this.loop)return void(this.fileIndex=-1);this.fileIndex<0?this.fileIndex=this.files.length-1:this.fileIndex=0}return this.file=this.files[this.fileIndex],this.file}},play:function(t){return this.prepare(),this.getStream().createFileSource(t,this,e=>{var s;return this.source=e,this.source.connect(this.destination),null!=this.source.duration?this.set({duration:this.source.duration()}):null!=(null!=(s=t.audio)?s.length:void 0)&&this.set({duration:parseFloat(t.audio.length)}),this.source.play(t),this.trigger("playing")})},onEnd:function(){if(this.stop(),this.playThrough)return this.play(this.selectFile())}}},p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card"},[s("h5",{staticClass:"card-header"},[t._v("\n        "+t._s(t.name)+"\n\n        "),s("div",{staticClass:"float-right"},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.volume,expression:"volume",modifiers:{number:!0}}],staticClass:"custom-range",attrs:{type:"range",min:"0",max:"150",value:"100"},domProps:{value:t.volume},on:{__r:function(e){t.volume=t._n(e.target.value)},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"control-group d-flex justify-content-center mb-3"},[s("div",{staticClass:"btn-group btn-group-sm"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),s("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.passThrough},on:{click:function(e){t.cue()}}},[t._v("CUE")])])]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),s("div",{staticClass:"playlist form-group"},[t._m(8),t._v(" "),s("div",{staticClass:"playlist-input custom-file"},[s("input",{staticClass:"custom-file-input files",attrs:{id:t.id+"_files",type:"file",accept:"audio/*",multiple:"multiple"}}),t._v(" "),s("label",{staticClass:"custom-file-label",attrs:{for:t.id+"_files"}},[t._v("Add Files to Playlist")])])]),t._v(" "),s("div",{staticClass:"form-group mb-0"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.playThrough,expression:"playThrough"}],staticClass:"custom-control-input",attrs:{id:t.id+"_playthrough",type:"checkbox"},domProps:{checked:Array.isArray(t.playThrough)?t._i(t.playThrough,null)>-1:t.playThrough},on:{change:function(e){var s=t.playThrough,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.playThrough=s.concat([null])):n>-1&&(t.playThrough=s.slice(0,n).concat(s.slice(n+1)))}else t.playThrough=i}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:t.id+"_playthrough"}},[t._v("Play Through")])]),t._v(" "),s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.loop,expression:"loop"}],staticClass:"custom-control-input",attrs:{id:t.id+"_loop",type:"checkbox"},domProps:{checked:Array.isArray(t.loop)?t._i(t.loop,null)>-1:t.loop},on:{change:function(e){var s=t.loop,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.loop=s.concat([null])):n>-1&&(t.loop=s.slice(0,n).concat(s.slice(n+1)))}else t.loop=i}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:t.id+"_loop"}},[t._v("Repeat Playlist")])])])])])};p._withStripped=!0;var h=i(v,p,[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm btn-success play-audio player-control"},[e("i",{staticClass:"material-icons"},[this._v("play_arrow")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm btn-warning pause-audio player-control",staticStyle:{display:"none"}},[e("i",{staticClass:"material-icons"},[this._v("pause")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm previous player-control"},[e("i",{staticClass:"material-icons"},[this._v("fast_rewind")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm next player-control"},[e("i",{staticClass:"material-icons"},[this._v("fast_forward")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sm btn-danger stop player-control"},[e("i",{staticClass:"material-icons"},[this._v("stop")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress progress-success progress-volume"},[e("div",{staticClass:"progress-seek"}),this._v(" "),e("span",{staticClass:"track-position-text"}),this._v(" "),e("div",{staticClass:"bar track-position"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress progress-left"},[e("div",{staticClass:"bar volume-left volume-bar",staticStyle:{width:"0%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress progress-right"},[e("div",{staticClass:"bar volume-right",staticStyle:{width:"0%"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"playlist-table",staticStyle:{display:"none"}},[e("table",{staticClass:"files-table table table-striped table-bordered table-hover table-condensed"},[e("tr",[e("th"),this._v(" "),e("th",[this._v("Title")]),this._v(" "),e("th",[this._v("Artist")]),this._v(" "),e("th",[this._v("Duration")])])])])}],!1,null,null,null);h.options.__file="vue/webcaster/playlist.vue";var m=h.exports,f={inject:["getStream"],data:function(){return{isStreaming:!1,djUsername:"",djPassword:"",bitrate:128,samplerate:44100,encoder:"mp3",asynchronous:!0,passThrough:!1,metadata:{title:"",artist:""}}},computed:{uri:function(){return"wss://"+this.djUsername+":"+this.djPassword+"@"+this.baseUri}},props:{stationName:String,baseUri:String},mounted:function(){this.$root.$on("new-cue",this.onNewCue)},methods:{cue:function(){this.$root.$emit("new-cue",this.passThrough?"off":"master")},onNewCue:function(t){this.passThrough="master"===t},startStreaming:function(){var t;switch(this.encoder){case"mp3":t=Webcast.Encoder.Mp3;break;case"raw":t=Webcast.Encoder.Raw}var e=new t({channels:2,samplerate:this.samplerate,bitrate:this.bitrate});this.samplerate!==this.getStream().context.sampleRate&&(e=new Webcast.Encoder.Resample({encoder:e,type:Samplerate.LINEAR,samplerate:this.getStream().context.sampleRate})),this.asynchronous&&(e=new Webcast.Encoder.Asynchronous({encoder:e,scripts:["https://cdn.rawgit.com/webcast/libsamplerate.js/master/dist/libsamplerate.js","https://cdn.rawgit.com/savonet/shine/master/js/dist/libshine.js","https://cdn.rawgit.com/webcast/webcast.js/master/lib/webcast.js"]})),this.getStream().webcast.connectSocket(e,this.uri),this.isStreaming=!0},stopStreaming:function(){this.getStream().webcast.close(),this.isStreaming=!1},updateMetadata:function(){return this.getStream().webcast.sendMetadata({title:this.metadata.title,artist:this.metadata.artist})}}},g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card settings"},[s("div",{staticClass:"card-header"},[s("h5",[t._v(t._s(t.stationName))]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane active",attrs:{id:"settings"}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Encoder")]),t._v(" "),s("div",{staticClass:"controls"},[s("div",{staticClass:"custom-control custom-radio custom-control-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.encoder,expression:"encoder"}],staticClass:"custom-control-input",attrs:{id:"encoder_mp3",type:"radio",value:"mp3"},domProps:{checked:t._q(t.encoder,"mp3")},on:{change:function(e){t.encoder="mp3"}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"encoder_mp3"}},[t._v("MP3")])]),t._v(" "),s("div",{staticClass:"custom-control custom-radio custom-control-inline"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.encoder,expression:"encoder"}],staticClass:"custom-control-input",attrs:{id:"encoder_raw",type:"radio",value:"raw"},domProps:{checked:t._q(t.encoder,"raw")},on:{change:function(e){t.encoder="raw"}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"encoder_raw"}},[t._v("Raw")])])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"select_samplerate"}},[t._v("Sample Rate")]),t._v(" "),s("div",{staticClass:"controls"},[s("select",{directives:[{name:"model",rawName:"v-model.number",value:t.samplerate,expression:"samplerate",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"select_samplerate"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var s="_value"in e?e._value:e.value;return t._n(s)});t.samplerate=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"8000"}},[t._v("8 kHz")]),t._v(" "),s("option",{attrs:{value:"11025"}},[t._v("11.025 kHz")]),t._v(" "),s("option",{attrs:{value:"12000"}},[t._v("12 kHz")]),t._v(" "),s("option",{attrs:{value:"16000"}},[t._v("16 kHz")]),t._v(" "),s("option",{attrs:{value:"22050"}},[t._v("22.05 kHz")]),t._v(" "),s("option",{attrs:{value:"24000"}},[t._v("24 kHz")]),t._v(" "),s("option",{attrs:{value:"32000"}},[t._v("32 kHz")]),t._v(" "),s("option",{attrs:{value:"44100"}},[t._v("44.1 kHz")]),t._v(" "),s("option",{attrs:{value:"48000"}},[t._v("48 kHz")])])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"select_bitrate"}},[t._v("Bit Rate")]),t._v(" "),s("div",{staticClass:"controls"},[s("select",{directives:[{name:"model",rawName:"v-model.number",value:t.bitrate,expression:"bitrate",modifiers:{number:!0}}],staticClass:"form-control",attrs:{id:"select_bitrate"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var s="_value"in e?e._value:e.value;return t._n(s)});t.bitrate=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"8"}},[t._v("8 kbps")]),t._v(" "),s("option",{attrs:{value:"16"}},[t._v("16 kbps")]),t._v(" "),s("option",{attrs:{value:"24"}},[t._v("24 kbps")]),t._v(" "),s("option",{attrs:{value:"32"}},[t._v("32 kbps")]),t._v(" "),s("option",{attrs:{value:"40"}},[t._v("40 kbps")]),t._v(" "),s("option",{attrs:{value:"48"}},[t._v("48 kbps")]),t._v(" "),s("option",{attrs:{value:"56"}},[t._v("56 kbps")]),t._v(" "),s("option",{attrs:{value:"64"}},[t._v("64 kbps")]),t._v(" "),s("option",{attrs:{value:"80"}},[t._v("80 kbps")]),t._v(" "),s("option",{attrs:{value:"96"}},[t._v("96 kbps")]),t._v(" "),s("option",{attrs:{value:"112"}},[t._v("112 kbps")]),t._v(" "),s("option",{attrs:{value:"128"}},[t._v("128 kbps")]),t._v(" "),s("option",{attrs:{value:"144"}},[t._v("144 kbps")]),t._v(" "),s("option",{attrs:{value:"160"}},[t._v("160 kbps")]),t._v(" "),s("option",{attrs:{value:"192"}},[t._v("192 kbps")]),t._v(" "),s("option",{attrs:{value:"224"}},[t._v("224 kbps")]),t._v(" "),s("option",{attrs:{value:"256"}},[t._v("256 kbps")]),t._v(" "),s("option",{attrs:{value:"320"}},[t._v("320 kbps")])])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("DJ Credentials")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.djUsername,expression:"djUsername"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.djUsername},on:{input:function(e){e.target.composing||(t.djUsername=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"col-6"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.djPassword,expression:"djPassword"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Password"},domProps:{value:t.djPassword},on:{input:function(e){e.target.composing||(t.djPassword=e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"form-group mb-0"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.asynchronous,expression:"asynchronous"}],staticClass:"custom-control-input",attrs:{id:"use_async_worker",type:"checkbox"},domProps:{checked:Array.isArray(t.asynchronous)?t._i(t.asynchronous,null)>-1:t.asynchronous},on:{change:function(e){var s=t.asynchronous,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=t._i(s,null);a.checked?n<0&&(t.asynchronous=s.concat([null])):n>-1&&(t.asynchronous=s.slice(0,n).concat(s.slice(n+1)))}else t.asynchronous=i}}}),t._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"use_async_worker"}},[t._v("Use Asynchronous Worker")])])])]),t._v(" "),s("div",{staticClass:"tab-pane",attrs:{id:"metadata"}},[s("div",{staticClass:"alert metadata-updated",staticStyle:{display:"none"}},[t._v("\n                    Metadata updated!\n                ")]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"metadata_title"}},[t._v("Title")]),t._v(" "),s("div",{staticClass:"controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.metadata.title,expression:"metadata.title"}],staticClass:"form-control",attrs:{id:"metadata_title",type:"text",disabled:!t.isStreaming},domProps:{value:t.metadata.title},on:{input:function(e){e.target.composing||t.$set(t.metadata,"title",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"metadata_artist"}},[t._v("Artist")]),t._v(" "),s("div",{staticClass:"controls"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.metadata.artist,expression:"metadata.artist"}],staticClass:"form-control",attrs:{id:"metadata_artist",type:"text",disabled:!t.isStreaming},domProps:{value:t.metadata.artist},on:{input:function(e){e.target.composing||t.$set(t.metadata,"artist",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.isStreaming},on:{click:t.updateMetadata}},[t._v("Update Metadata")])])])])]),t._v(" "),s("div",{staticClass:"card-actions"},[t.isStreaming?t._e():s("button",{staticClass:"btn btn-success",on:{click:t.startStreaming}},[t._v("Start streaming")]),t._v(" "),t.isStreaming?s("button",{staticClass:"btn btn-danger",on:{click:t.stopStreaming}},[t._v("Stop streaming")]):t._e(),t._v(" "),s("button",{staticClass:"btn",class:{"btn-primary":t.passThrough},on:{click:t.cue}},[t._v("Cue")])])])};g._withStripped=!0;var b=i(f,g,[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs card-header-tabs mt-0"},[e("li",{staticClass:"nav-item ml-1"},[e("a",{staticClass:"nav-link active",attrs:{href:"#settings","data-toggle":"tab"}},[this._v("Settings")])]),this._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#metadata","data-toggle":"tab"}},[this._v("Metadata")])])])}],!1,null,null,null);b.options.__file="vue/webcaster/settings.vue";var C=b.exports,y={};"undefined"!=typeof webkitAudioContext?y.context=new webkitAudioContext:y.context=new AudioContext,y.webcast=y.context.createWebcastSource(4096,2),y.webcast.connect(y.context.destination),y.createAudioSource=function({file:t,audio:e},s,a){var i,n;return(i=new Audio(URL.createObjectURL(t))).controls=!1,i.autoplay=!1,i.loop=!1,i.addEventListener("ended",function(){return s.onEnd()}),n=null,i.addEventListener("canplay",function(){if(null==n)return(n=this.context.createMediaElementSource(i)).play=function(){return i.play()},n.position=function(){return i.currentTime},n.duration=function(){return i.duration},n.paused=function(){return i.paused},n.stop=function(){return i.pause(),i.remove()},n.pause=function(){return i.pause()},n.seek=function(t){var s;return s=t*parseFloat(e.length),i.currentTime=s,s},a(n)})},y.createFileSource=function(t,e,s){var a;return null!=(a=this.source)&&a.disconnect(),this.createAudioSource(t,e,s)},y.createMicrophoneSource=function(t,e){return navigator.mediaDevices.getUserMedia(t).then(function(t){var s;return(s=this.context.createMediaStreamSource(t)).stop=function(){var e;return null!=(e=t.getAudioTracks())?e[0].stop():void 0},e(s)})},y.close=function(t){return this.webcast.close(t)};var w=y,x={data:function(){return{stream:w}},components:{mixer:r,microphone:d,playlist:m,settings:C},props:{stationName:String,baseUri:String},provide:function(){return{getStream:this.getStream}},methods:{getStream:function(){return this.stream}}},k=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-sm-4"},[e("settings",{attrs:{"station-name":this.stationName,"base-uri":this.baseUri}})],1),this._v(" "),e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-md-6 mb-sm-4"},[e("playlist",{attrs:{name:"Playlist 1",id:"playlist_1"}})],1),this._v(" "),e("div",{staticClass:"col-md-6"},[e("playlist",{attrs:{name:"Playlist 2",id:"playlist_2"}})],1)]),this._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-sm-4"},[e("mixer")],1),this._v(" "),e("div",{staticClass:"col-md-8"},[e("microphone")],1)])])])};k._withStripped=!0;var S=i(x,k,[],!1,null,null,null);S.options.__file="vue/webcaster.vue";e.default=S.exports}]);